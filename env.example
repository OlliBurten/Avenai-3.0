# Database
DATABASE_URL="postgresql://username:password@localhost:5432/avenai"

# OpenAI
OPENAI_API_KEY="your-openai-api-key"

# NextAuth Configuration
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="replace_with_strong_secret"

# OAuth Providers
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# Microsoft SSO (Azure AD)
AZURE_AD_CLIENT_ID=""
AZURE_AD_CLIENT_SECRET=""
AZURE_AD_TENANT_ID="common"  # Use 'common' for multi-tenant or specific tenant ID

# Email Magic Link (optional; if used, set SMTP)
EMAIL_SERVER_HOST=""
EMAIL_SERVER_PORT=""
EMAIL_SERVER_USER=""
EMAIL_SERVER_PASSWORD=""
EMAIL_FROM="Avenai <no-reply@avenai.io>"

# App Configuration
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Feature Flags
UNIFIED_WORKSPACE=true
NEXT_PUBLIC_ENABLE_EMBED_WIDGET=true

# Phase 4: ChatGPT-Level Intelligence (Gradual Rollout)
DOC_WORKER_V2_1=true          # Enable enhanced extraction (footer, email, JSON, endpoints)
HYBRID_FUSION=true            # Enable hybrid retrieval (vector + FTS fusion)
MMR_RERANK=true               # Enable MMR diversity (max 2/page, min 3 sections)
FALLBACK_EXPAND=true          # Enable confidence-based fallback (auto-widen loop)
CROSS_DOC_MERGE=true          # Enable balanced multi-document retrieval
PROMPT_ROUTER_V2=true         # Enable strict mode templates (JSON/ENDPOINT/etc.)
ENABLE_METRICS_DB=false       # Enable metrics persistence (optional - uses in-memory by default)

# Email Service (Resend)
RESEND_API_KEY="your-resend-api-key"
RESEND_FROM_EMAIL="noreply@avenai.io"

# File Storage (S3-compatible - AWS S3, Cloudflare R2, etc.)
STORAGE_ENDPOINT="https://s3.amazonaws.com"
STORAGE_REGION="us-east-1"
STORAGE_ACCESS_KEY_ID="your-storage-access-key"
STORAGE_SECRET_ACCESS_KEY="your-storage-secret-key"
STORAGE_BUCKET_NAME="avenai-documents"
STORAGE_PUBLIC_URL="" # Optional: for direct public access

# Pinecone Vector Database (DEPRECATED - Now using pgvector)
# PINECONE_API_KEY="your-pinecone-api-key"
# PINECONE_ENVIRONMENT="your-pinecone-environment"
# PINECONE_INDEX_NAME="avenai-docs"

# Redis Cache (Optional - uses in-memory cache if not provided)
# Recommended: Upstash Redis for serverless caching
# UPSTASH_REDIS_URL="redis://..."
# REDIS_URL="redis://..."

# Document Processing Worker (FastAPI service)
# Deploy the Python worker to Fly.io, Render, EC2, etc.
DOC_WORKER_URL="https://avenai-doc-worker.fly.dev"

# OCR Services (optional - for cloud OCR)
# Azure Computer Vision
AZURE_CV_ENDPOINT="https://your-region.cognitiveservices.azure.com/"
AZURE_CV_KEY="your-azure-cv-key"

# Google Cloud Vision (JSON credentials)
GOOGLE_OCR_CREDENTIALS='{"type": "service_account", "project_id": "your-project", ...}'

# AWS Textract
AWS_OCR_REGION="us-east-1"
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
